{"ast":null,"code":"import _slicedToArray from\"Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import CartContext from\"./cart-context\";import{useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var defaultCart={items:[],jumlah:\"0\"};var prosesCart=function prosesCart(state,action){if(action.type===\"ADD\"){var totalJumlah=parseInt(state.jumlah)+action.item.jumlah*action.item.harga;//!THEFUCK?!!\nvar existCartItemIdx=state.items.findIndex(function(e){return e.id===action.item.id;});console.log(\"idx\",existCartItemIdx);var existCartItem=state.items[existCartItemIdx];console.log(\"e \",existCartItem);var updatedItems;// console.log(existCartItemIdx, existCartItem);\nif(existCartItem){var updatedItem=_objectSpread(_objectSpread({},existCartItem),{},{jumlah:existCartItem.jumlah+action.item.jumlah});updatedItems=_toConsumableArray(state.items);updatedItems[existCartItemIdx]=updatedItem;}else{updatedItems=state.items.concat(action.item);}// const updatedTotal = totalJumlah + action.item.jumlah * action.item.harga;\n// console.log(\n//   `jlh`,\n//   action.item.jumlah,\n//   `harga`,\n//   action.item.harga,\n//   \"state.jlh\",\n//   state.jumlah,\n//   `total.jlh`,\n//   totalJumlah,\n//   `updateTot`,\n//   updatedTotal\n// );\n// console.log(`tipe`, typeof parseInt(state.jumlah));\n// console.log(`test`, updatedItems);\nreturn{items:updatedItems,jumlah:totalJumlah};}if(action.type===\"REMOVE\"){var _existCartItemIdx=state.items.findIndex(function(it){return it.id===action.id;});var existItem=state.items[_existCartItemIdx];var updateHarga=state.jumlah-existItem.harga;var _updatedItems;console.log(\"excartitemidx\",_existCartItemIdx);console.log(\"exitem\",existItem,\"updateharga\",updateHarga,\"state.jumlah\",state.jumlah,\"existitem.harga\",existItem.harga);if(existItem.jumlah===1){_updatedItems=state.items.filter(function(e){return e.id!==action.id;});}else{var _updatedItem=_objectSpread(_objectSpread({},existItem),{},{jumlah:existItem.jumlah-1});_updatedItems=_toConsumableArray(state.items);_updatedItems[_existCartItemIdx]=_updatedItem;console.log(\"updtd items\",_updatedItems);}console.log(\"updtd items2\",_updatedItems);return{items:_updatedItems,jumlah:updateHarga};}if(action.type===\"RESET\"){return defaultCart;}return defaultCart;};var CartProvider=function CartProvider(props){var _useReducer=useReducer(prosesCart,defaultCart),_useReducer2=_slicedToArray(_useReducer,2),cartState=_useReducer2[0],dispatchCartState=_useReducer2[1];var tambahItem=function tambahItem(i){dispatchCartState({type:\"ADD\",item:i});console.log(\"i\",i);};var hapusItem=function hapusItem(id){dispatchCartState({type:\"REMOVE\",id:id});};var resetAfterOrder=function resetAfterOrder(){dispatchCartState({type:\"RESET\"});};var cartContext={items:cartState.items,jumlah:cartState.jumlah,addBarang:tambahItem,removeBarang:hapusItem,resetCart:resetAfterOrder};return/*#__PURE__*/_jsx(CartContext.Provider,{value:cartContext,children:props.children});};export default CartProvider;","map":{"version":3,"names":["CartContext","useReducer","defaultCart","items","jumlah","prosesCart","state","action","type","totalJumlah","parseInt","item","harga","existCartItemIdx","findIndex","e","id","console","log","existCartItem","updatedItems","updatedItem","concat","it","existItem","updateHarga","filter","CartProvider","props","cartState","dispatchCartState","tambahItem","i","hapusItem","resetAfterOrder","cartContext","addBarang","removeBarang","resetCart","children"],"sources":["Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/src/store/CartProvider.js"],"sourcesContent":["import CartContext from \"./cart-context\";\r\nimport { useReducer } from \"react\";\r\n\r\nconst defaultCart = {\r\n  items: [],\r\n  jumlah: \"0\",\r\n};\r\n\r\nconst prosesCart = (state, action) => {\r\n  if (action.type === \"ADD\") {\r\n    let totalJumlah =\r\n      parseInt(state.jumlah) + action.item.jumlah * action.item.harga; //!THEFUCK?!!\r\n\r\n    const existCartItemIdx = state.items.findIndex(\r\n      (e) => e.id === action.item.id\r\n    );\r\n    console.log(`idx`, existCartItemIdx);\r\n    const existCartItem = state.items[existCartItemIdx];\r\n    console.log(`e `, existCartItem);\r\n    let updatedItems;\r\n    // console.log(existCartItemIdx, existCartItem);\r\n    if (existCartItem) {\r\n      const updatedItem = {\r\n        ...existCartItem,\r\n        jumlah: existCartItem.jumlah + action.item.jumlah,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existCartItemIdx] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    // const updatedTotal = totalJumlah + action.item.jumlah * action.item.harga;\r\n    // console.log(\r\n    //   `jlh`,\r\n    //   action.item.jumlah,\r\n    //   `harga`,\r\n    //   action.item.harga,\r\n    //   \"state.jlh\",\r\n    //   state.jumlah,\r\n    //   `total.jlh`,\r\n    //   totalJumlah,\r\n    //   `updateTot`,\r\n    //   updatedTotal\r\n    // );\r\n    // console.log(`tipe`, typeof parseInt(state.jumlah));\r\n    // console.log(`test`, updatedItems);\r\n    return {\r\n      items: updatedItems,\r\n      jumlah: totalJumlah,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"REMOVE\") {\r\n    const existCartItemIdx = state.items.findIndex((it) => it.id === action.id);\r\n    const existItem = state.items[existCartItemIdx];\r\n    const updateHarga = state.jumlah - existItem.harga;\r\n    let updatedItems;\r\n    console.log(\"excartitemidx\", existCartItemIdx);\r\n    console.log(\r\n      \"exitem\",\r\n      existItem,\r\n      `updateharga`,\r\n      updateHarga,\r\n      `state.jumlah`,\r\n      state.jumlah,\r\n      `existitem.harga`,\r\n      existItem.harga\r\n    );\r\n    if (existItem.jumlah === 1) {\r\n      updatedItems = state.items.filter((e) => e.id !== action.id);\r\n    } else {\r\n      const updatedItem = { ...existItem, jumlah: existItem.jumlah - 1 };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existCartItemIdx] = updatedItem;\r\n      console.log(`updtd items`, updatedItems);\r\n    }\r\n    console.log(`updtd items2`, updatedItems);\r\n    return {\r\n      items: updatedItems,\r\n      jumlah: updateHarga,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return defaultCart;\r\n  }\r\n\r\n  return defaultCart;\r\n};\r\n\r\nconst CartProvider = (props) => {\r\n  const [cartState, dispatchCartState] = useReducer(prosesCart, defaultCart);\r\n\r\n  const tambahItem = (i) => {\r\n    dispatchCartState({\r\n      type: \"ADD\",\r\n      item: i,\r\n    });\r\n    console.log(`i`, i);\r\n  };\r\n\r\n  const hapusItem = (id) => {\r\n    dispatchCartState({\r\n      type: \"REMOVE\",\r\n      id: id,\r\n    });\r\n  };\r\n\r\n  const resetAfterOrder = () => {\r\n    dispatchCartState({\r\n      type: \"RESET\",\r\n    });\r\n  };\r\n\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    jumlah: cartState.jumlah,\r\n    addBarang: tambahItem,\r\n    removeBarang: hapusItem,\r\n    resetCart: resetAfterOrder,\r\n  };\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}