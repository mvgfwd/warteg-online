{"ast":null,"code":"import _regeneratorRuntime from\"Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import cartStyle from\"./Cart.module.css\";import Modal from\"../UI/Modal\";// import Card from \"../UI/Card\";\nimport{useContext,useState}from\"react\";import CartContext from\"../../store/cart-context\";import CartItem from\"./CartItem\";import CekotForm from\"./CekotForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(props){//untuk perloadingan pemesanan\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),mengirimkan=_useState2[0],setMengirimkan=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),terkirim=_useState4[0],setTerkirim=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),diorder=_useState6[0],setDiorder=_useState6[1];var cartCtx=useContext(CartContext);var hargaBarang=\"Rp\".concat(cartCtx.jumlah);var adaItemGa=cartCtx.items.length>0;var orderMen=function orderMen(){setDiorder(true);};var cartItemRemoveHdlr=function cartItemRemoveHdlr(id){cartCtx.removeBarang(id);};var cartItemAddhdlr=function cartItemAddhdlr(item){cartCtx.addBarang(_objectSpread(_objectSpread({},item),{},{jumlah:1}));};var submitToBackEnd=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setMengirimkan(true);_context.next=3;return fetch(\"https://react-http-req-39280-default-rtdb.asia-southeast1.firebasedatabase.app/jonaresto/order.json\",{method:\"POST\",body:JSON.stringify({yangOrder:data,ordernya:cartCtx.items})});case 3:setMengirimkan(false);setTerkirim(true);cartCtx.resetCart();case 6:case\"end\":return _context.stop();}},_callee);}));return function submitToBackEnd(_x){return _ref.apply(this,arguments);};}();var cartItems=/*#__PURE__*/_jsxs(\"ul\",{className:cartStyle[\"cart-items\"],children:[cartCtx.items.map(function(e){return/*#__PURE__*/_jsx(CartItem,{name:e.name,amount:e.jumlah,price:e.harga,onRemove:cartItemRemoveHdlr.bind(null,e.id),onAdd:cartItemAddhdlr.bind(null,e)},e.id);}),\" \"]});var tampakkanButtonCart=/*#__PURE__*/_jsxs(\"div\",{className:cartStyle.actions,children:[/*#__PURE__*/_jsx(\"button\",{className:cartStyle[\"button--alt\"],onClick:props.onTutupCart,children:\"Close\"}),adaItemGa&&/*#__PURE__*/_jsx(\"button\",{className:cartStyle.button,onClick:orderMen,children:\"Order\"})]});var kontenCart=/*#__PURE__*/_jsxs(\"div\",{children:[cartItems,/*#__PURE__*/_jsxs(\"div\",{className:cartStyle.total,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Amount: \"}),/*#__PURE__*/_jsx(\"span\",{children:hargaBarang})]}),/*#__PURE__*/_jsx(\"div\",{children:diorder&&/*#__PURE__*/_jsx(CekotForm,{onSubForm:submitToBackEnd,kensel:props.onTutupCart})}),/*#__PURE__*/_jsx(\"div\",{children:!diorder&&tampakkanButtonCart})]});var sedangMengirim=/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Order anda sedang dikirim\"})});var terkirimkan=/*#__PURE__*/_jsxs(\"section\",{className:cartStyle.actions,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Order anda terkirim\"}),/*#__PURE__*/_jsx(\"button\",{onClick:props.onTutupCart,children:\"Close\"})]});return/*#__PURE__*/_jsxs(Modal,{onClose:props.onTutupCart,children:[!mengirimkan&&!terkirim&&kontenCart,mengirimkan&&!terkirim&&sedangMengirim,!mengirimkan&&terkirim&&terkirimkan]});};export default Cart;","map":{"version":3,"names":["cartStyle","Modal","useContext","useState","CartContext","CartItem","CekotForm","Cart","props","mengirimkan","setMengirimkan","terkirim","setTerkirim","diorder","setDiorder","cartCtx","hargaBarang","jumlah","adaItemGa","items","length","orderMen","cartItemRemoveHdlr","id","removeBarang","cartItemAddhdlr","item","addBarang","submitToBackEnd","data","fetch","method","body","JSON","stringify","yangOrder","ordernya","resetCart","cartItems","map","e","name","harga","bind","tampakkanButtonCart","actions","onTutupCart","button","kontenCart","total","sedangMengirim","terkirimkan"],"sources":["Y:/Belajar Programming/Reactjs Udemy/create-react-app/food-order/src/components/Cart/Cart.js"],"sourcesContent":["import cartStyle from \"./Cart.module.css\";\r\nimport Modal from \"../UI/Modal\";\r\n// import Card from \"../UI/Card\";\r\nimport { useContext, useState } from \"react\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport CartItem from \"./CartItem\";\r\nimport CekotForm from \"./CekotForm\";\r\n\r\nconst Cart = (props) => {\r\n  //untuk perloadingan pemesanan\r\n  const [mengirimkan, setMengirimkan] = useState(false);\r\n  const [terkirim, setTerkirim] = useState(false);\r\n\r\n  const [diorder, setDiorder] = useState(false);\r\n  const cartCtx = useContext(CartContext);\r\n  const hargaBarang = `Rp${cartCtx.jumlah}`;\r\n  const adaItemGa = cartCtx.items.length > 0;\r\n\r\n  const orderMen = () => {\r\n    setDiorder(true);\r\n  };\r\n\r\n  const cartItemRemoveHdlr = (id) => {\r\n    cartCtx.removeBarang(id);\r\n  };\r\n\r\n  const cartItemAddhdlr = (item) => {\r\n    cartCtx.addBarang({ ...item, jumlah: 1 });\r\n  };\r\n\r\n  const submitToBackEnd = async (data) => {\r\n    setMengirimkan(true);\r\n    await fetch(\r\n      `https://react-http-req-39280-default-rtdb.asia-southeast1.firebasedatabase.app/jonaresto/order.json`,\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          yangOrder: data,\r\n          ordernya: cartCtx.items,\r\n        }),\r\n      }\r\n    );\r\n    setMengirimkan(false);\r\n    setTerkirim(true);\r\n    cartCtx.resetCart();\r\n  };\r\n\r\n  const cartItems = (\r\n    <ul className={cartStyle[`cart-items`]}>\r\n      {cartCtx.items.map((e) => (\r\n        <CartItem\r\n          key={e.id}\r\n          name={e.name}\r\n          amount={e.jumlah}\r\n          price={e.harga}\r\n          onRemove={cartItemRemoveHdlr.bind(null, e.id)}\r\n          onAdd={cartItemAddhdlr.bind(null, e)}\r\n        />\r\n      ))}{\" \"}\r\n    </ul>\r\n  );\r\n\r\n  const tampakkanButtonCart = (\r\n    <div className={cartStyle.actions}>\r\n      <button className={cartStyle[`button--alt`]} onClick={props.onTutupCart}>\r\n        Close\r\n      </button>\r\n      {adaItemGa && (\r\n        <button className={cartStyle.button} onClick={orderMen}>\r\n          Order\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const kontenCart = (\r\n    <div>\r\n      {cartItems}\r\n      <div className={cartStyle.total}>\r\n        <span>Total Amount: </span>\r\n        <span>{hargaBarang}</span>\r\n      </div>\r\n      <div>\r\n        {diorder && (\r\n          <CekotForm onSubForm={submitToBackEnd} kensel={props.onTutupCart} />\r\n        )}\r\n      </div>\r\n      <div>{!diorder && tampakkanButtonCart}</div>\r\n    </div>\r\n  );\r\n\r\n  const sedangMengirim = (\r\n    <section>\r\n      <p>Order anda sedang dikirim</p>\r\n    </section>\r\n  );\r\n  const terkirimkan = (\r\n    <section className={cartStyle.actions}>\r\n      <p>Order anda terkirim</p>\r\n      <button onClick={props.onTutupCart}>Close</button>\r\n    </section>\r\n  );\r\n\r\n  return (\r\n    <Modal onClose={props.onTutupCart}>\r\n      {!mengirimkan && !terkirim && kontenCart}\r\n      {mengirimkan && !terkirim && sedangMengirim}\r\n      {!mengirimkan && terkirim && terkirimkan}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}